import requests
from selenium import webdriver
from selenium.webdriver.common.keys import Keys
import time
import re
#获取地名与URL简称的对应关系
test = requests.get("https://kyfw.12306.cn/otn/resources/js/framework/station_name.js?station_version=1.9063")
respond = re.findall(r'([\u4e00-\u9fa5]+)\|([A-Z]+)',test.text)
list_2 = dict(respond)
print(list_2)
print(list_2["北京北"])



startstation = input("请输入起点")
startstation = list_2[startstation]
endstation = input("请输入终点")
endstation = list_2[endstation]
times = input("请输入时间 2018-09-12")
url = "https://kyfw.12306.cn/otn/leftTicket/query?leftTicketDTO.train_date=%s&leftTicketDTO.from_station=%s&leftTicketDTO.to_station=%s&purpose_codes=ADULT"%(times,startstation,endstation)
print(url)
respond = requests.get(url)
print(respond.text)
